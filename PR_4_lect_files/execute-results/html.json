{
  "hash": "cfe50898654296d1545e5316692c5237",
  "result": {
    "markdown": "---\ntitle: \"Práctica 4 <br> Estadística Descriptiva. \"\nauthor: \"Jesús Esteban Hernández\"\ndate: \"2/12/2022\"\noutput:\n  html_document: \n    theme: cosmo\n    code_folding: show\n    toc: yes\n    number_sections: yes\n    toc_depth: 5\n    toc_float: yes\n   \n  # html_notebook:\n  #   # theme: readable\n  #   code_folding: show\n  #   toc: true\n  #   toc_float: \n  #     collapsed: false\n  #   toc_depth: 5\n  #   # toc-title: Table of contents #toc-title no me funciona.\n    # number_sections: yes\n  # Opciones aquí https://garrettgman.github.io/rmarkdown/html_document_format\n  pdf_document:\n    toc: yes\n    toc_depth: 5\n    latex_engine: lualatex\nlan: es-ES\neditor_options:\nbibliography: MasterUE.bib\nbiblio-style: apalike\nlink-citations: true\n#csl: biomed-central.csl\nchunk_output_type: inline\n---\n\n::: {.cell}\n<style type=\"text/css\">\n<style type=\"text/css\">\n  \n  .TOC {\n    left:0;\n    width:200px;\n    margin-left: 0px;\n    right: 2px;\n    margin: 2px 20px 20px 0px;\n    color: red;\n    font-size: 2px;\n  }\n\n  .main-container {\n  \n  width:1800px !important;\n  margin-left: 10px;\n  margin-right: 10px;\n  \n}\n\nbody {\n  font-size: 14pt;\n  font-family: Helvetica;\n  <!-- color: red; -->\n  <!-- background-color: olive; -->\n  \n}\n\nh1 {\n  font-size: 34px;\n}\n\nh2 {\n  font-size: 20px;\n  color: red;\n  text-indent:10px;\n\n}\n\nh3 {\n  font-size: 20px;\n  color: blue;\n  text-indent:15px;\n\n}\n\n\nh4 {\n  font-size: 20px;\n  color: green;\n  text-indent:20px;\n\n}\n\ntocify-header {\n    text-indent: initial;\n}\n\n.gt_table {\n  margin-left: 10px !important;\n  margin-right: 10px !important;\n  width: auto !important;\n  \n}\n\n\n</style>\n\n</style>\n:::\n\n\n\n\nRecuerda siempre cómo *\"piensa\"* R.\n\n![Cómo piensa R](pics/como_piensa_R.png)\n\n# Estadística descriptiva con R.\n\nEn la sección anterior hemos visto como importar y gestionar variables de un **dataframe**.\nEn esta práctica vamos a ver cómo obtener los descriptivos básicos.\nEs lo que se llama Análisis Exploratorio de los Datos (Exploratory Data Analysis [EDA])\n\nLo primero que debemos hacer es cargar los datos de iam que habíamos importado y modificado en la sesión anterior.\n\nNo indico ruta porque estoy en el directorio de trabajo y es donde está el archivo.\n\n\n::: {.cell}\n\n```{.r .cell-code}\niam <- readRDS('iam.RDS')\n```\n:::\n\n\nSi no fuese así, debería indicar la ruta entre las comillas.\nPor ejemplo, si estuviese en un subdirectorio del de trabajo, debería hacerlo así.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreadRDS('data/iam.RDS')\n```\n:::\n\n\nEste código debería devolveros un error salvo que efectivamnte hayáis colocado el archivo en ese subdirectorio[^1]\n\n## Descriptivo inicial y depuración.\n\nEntre los objetivos del llamado Análisis Exploratorio de los Datos (EDA o Exploratory Data Analysis) destacaría tres:\n\n-   Obtener una visión general de la distribución de tus variables tanto mediante los descriptivos como los gráficos adecuados para el tipo de variable.\n-   Detectar valores anómalos por ser extremos (outliers), por no constar (missing) o por ser imposibles (error de medida o de introducción).\n-   Visualizar relaciones bivariadas (también hay técnicas multivariadas, pero no las veremos en esta introducción) entre las variables del dataframe.\n-   Una vez identificado todo lo anterior, podremos construir una primera foto de nuestra muestra.\n\nRespecto a los valores anómalos, a veces podrán ser eliminados (errores de introducción), pero en otras ocasiones tendremos que lidiar con ellos en la construcción de los modelos y en la presentación de los resultados.\n\nAunque no es una regla exacta, se suele decir que no te puedes fiar de una variable que tenga más de un 10% de valores perdidos (missing), pero en ocasiones no te queda más remedio que utilizarlas.\nEn estos casos hay diversas técnicas de imputación de valores perdidos que escapan a los objetivos de este curso.\n\nComo habremos visto durante la clase, los descriptivos y gráficos adecuados dependen de la escala de medida de la variable a describir.\n\nR tiene algunos criterios para decidir que devolver cuando le pedimos que haga un resumen (función *summary*), pero para ello necesita que la variable sea de la clase adecuada (numéric, integer, logical, factor)\n\nUtilizaremos el dataframe iam.\nRecordemos su estructura.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(iam)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t100 obs. of  9 variables:\n $ Id    : int  1 2 3 4 5 6 7 8 9 10 ...\n $ Age   : num  65.2 62.5 64.7 65.4 70.7 ...\n $ Sex   : int  1 0 0 0 0 0 1 0 0 0 ...\n $ Height: num  1.62 1.56 1.69 1.34 1.81 1.78 1.79 1.44 1.56 1.87 ...\n $ Weight: num  74.6 60.9 74.2 43.9 80.9 ...\n $ Smoke : int  0 0 0 0 1 0 0 1 0 0 ...\n $ ami   : int  0 0 0 0 0 0 0 1 0 0 ...\n $ age5  : Factor w/ 2 levels \"[55,65]\",\"(65,75]\": 2 1 1 2 2 2 2 1 1 2 ...\n $ bmi   : num  28.4 25 26 24.5 24.7 ...\n```\n:::\n:::\n\n\nComo se puede apreciar, algunas variables que deberían ser categóricas están como tipo entero (int o integer), así que lo primero que vamos a hacer es convertirlas en factores.\n\n\n::: {.cell}\n\n```{.r .cell-code}\niam$Sex<-factor(iam$Sex,labels=c('Men','Women'))\n```\n:::\n\n\nPodríamos ir cambiando una a una, pero R cuenta con algunas funciones que permiten cambiar simultáneamente varias variables que se van a etiquetar de la misma manera.\nEn nuestro caso son ami (Acute Myocardial Infarction) y Smoke (Fuma sí/no) que van con 0 (No) y 1 (Yes).\n\n```         \nEs recomendable utilizar una estrategia homogénea de etiquetado de valores de variable para facilitar conversiones posteriores.\n```\n\nLa familia de funciones *apply* (*apply, lapply, sapply, tapply, mapply...*) no son demasiado intuitivas, y se han desarrollado funciones que permiten realizar los mismo ocn código más intuitivo.\nAunque incluya aquí un ejemplo, no es esencial conocerlas para poder realizar este tipo de modificación.\n\n\n::: {.cell}\n\n```{.r .cell-code}\niam[,c('ami','Smoke')]<-lapply(iam[,c('ami','Smoke')],factor,labels=c('No','Yes'))\nstr(iam)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t100 obs. of  9 variables:\n $ Id    : int  1 2 3 4 5 6 7 8 9 10 ...\n $ Age   : num  65.2 62.5 64.7 65.4 70.7 ...\n $ Sex   : Factor w/ 2 levels \"Men\",\"Women\": 2 1 1 1 1 1 2 1 1 1 ...\n $ Height: num  1.62 1.56 1.69 1.34 1.81 1.78 1.79 1.44 1.56 1.87 ...\n $ Weight: num  74.6 60.9 74.2 43.9 80.9 ...\n $ Smoke : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 2 1 1 2 1 1 ...\n $ ami   : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 1 2 1 1 ...\n $ age5  : Factor w/ 2 levels \"[55,65]\",\"(65,75]\": 2 1 1 2 2 2 2 1 1 2 ...\n $ bmi   : num  28.4 25 26 24.5 24.7 ...\n```\n:::\n:::\n\n\nComo podemos observar, en la nueva estructura (hemos modificado el dataframe) las variables que antes eran de tipo entero, ahora son factores.\n\nSi ahora pedimos un primer resumen, observamos una serie de descriptivos básicos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(iam)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       Id              Age           Sex         Height          Weight      \n Min.   :  1.00   Min.   :59.50   Men  :58   Min.   :1.150   Min.   : 30.31  \n 1st Qu.: 25.75   1st Qu.:63.73   Women:42   1st Qu.:1.580   1st Qu.: 64.77  \n Median : 50.50   Median :65.24              Median :1.705   Median : 77.36  \n Mean   : 50.50   Mean   :65.14              Mean   :1.683   Mean   : 74.62  \n 3rd Qu.: 75.25   3rd Qu.:66.70              3rd Qu.:1.790   3rd Qu.: 82.59  \n Max.   :100.00   Max.   :70.71              Max.   :1.960   Max.   :121.87  \n Smoke     ami          age5         bmi       \n No :60   No :50   [55,65]:47   Min.   :17.09  \n Yes:40   Yes:50   (65,75]:53   1st Qu.:24.25  \n                                Median :25.42  \n                                Mean   :26.05  \n                                3rd Qu.:27.81  \n                                Max.   :33.01  \n```\n:::\n:::\n\n\nEl paquete *psych* ofrece más posibilidades.\nRecuerde que si no lo tienen instalado debe instalarlo antes de llamar al paquete.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npsych::describe(iam)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       vars   n  mean    sd median trimmed   mad   min    max range  skew\nId        1 100 50.50 29.01  50.50   50.50 37.06  1.00 100.00 99.00  0.00\nAge       2 100 65.14  2.09  65.24   65.15  2.23 59.50  70.71 11.21 -0.04\nSex*      3 100  1.42  0.50   1.00    1.40  0.00  1.00   2.00  1.00  0.32\nHeight    4 100  1.68  0.16   1.71    1.69  0.16  1.15   1.96  0.81 -0.72\nWeight    5 100 74.62 16.79  77.36   74.86 12.53 30.31 121.87 91.56 -0.11\nSmoke*    6 100  1.40  0.49   1.00    1.38  0.00  1.00   2.00  1.00  0.40\nami*      7 100  1.50  0.50   1.50    1.50  0.74  1.00   2.00  1.00  0.00\nage5*     8 100  1.53  0.50   2.00    1.54  0.00  1.00   2.00  1.00 -0.12\nbmi       9 100 26.05  3.14  25.42   25.86  2.02 17.09  33.01 15.93  0.35\n       kurtosis   se\nId        -1.24 2.90\nAge       -0.32 0.21\nSex*      -1.92 0.05\nHeight     0.43 0.02\nWeight     0.47 1.68\nSmoke*    -1.86 0.05\nami*      -2.02 0.05\nage5*     -2.01 0.05\nbmi        0.41 0.31\n```\n:::\n:::\n\n\nDesgraciadamente, aunque identifica las variables categóricas, utiliza el valor numérico subyacente.\nFíjese en la media de la variable Sex (1.42).\n\nA no olvidar:\n\n-   Echar un vistazo al mínimo y máximo. Esto nos permite detectar valores imposibles (por ejemplo una edad de 130 años, o un peso de 999).\n-   Identificar si hay valores perdidos.\n-   Estadísticos que nos dan una primera visión sobre la distribución.\n    -   Cercanía de la media a la mediana, desviación típica (recuerde que el coeficiente de variación es $\\frac{sd}{\\overline{x}})$ expresado en %).\n    -   Media recortada (trimmed, por defecto recorta el 10%) nos permite evaluar la influencia de los valores extremos.\n    -   Asimetría (Skewness) y curtosis (Kurtosis) que nos permiten evaluar su parecido con una distribución normal, aunque solo con la estimación no es suficiente para llegar a una conclusión.\n    -   MAD o Median Absolute Deviation, una medida robusta de la variabilidad que no es más que la mediana de los valores absolutos de distancias de cada valor a la mediana del conjunto. $MAD=median([X_i-median{X}])$. b\n    -   También aparece el error estándar (standard error o $se(X)$) que como veremos es importante en inferencia y que no se debe confundir con la desviación típica (standar deviation o $(sd)$).\n    -   No aparecen por defecto pero se pueden solicitar los cuartiles, en realidad los percentiles que deseemos. Recuerde que estas son medidas de posición, que también ayudan a describir nuestros datos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npsych::describe(iam,quant=c(.1,.25,.5,.75,.9))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       vars   n  mean    sd median trimmed   mad   min    max range  skew\nId        1 100 50.50 29.01  50.50   50.50 37.06  1.00 100.00 99.00  0.00\nAge       2 100 65.14  2.09  65.24   65.15  2.23 59.50  70.71 11.21 -0.04\nSex*      3 100  1.42  0.50   1.00    1.40  0.00  1.00   2.00  1.00  0.32\nHeight    4 100  1.68  0.16   1.71    1.69  0.16  1.15   1.96  0.81 -0.72\nWeight    5 100 74.62 16.79  77.36   74.86 12.53 30.31 121.87 91.56 -0.11\nSmoke*    6 100  1.40  0.49   1.00    1.38  0.00  1.00   2.00  1.00  0.40\nami*      7 100  1.50  0.50   1.50    1.50  0.74  1.00   2.00  1.00  0.00\nage5*     8 100  1.53  0.50   2.00    1.54  0.00  1.00   2.00  1.00 -0.12\nbmi       9 100 26.05  3.14  25.42   25.86  2.02 17.09  33.01 15.93  0.35\n       kurtosis   se  Q0.1 Q0.25  Q0.5 Q0.75  Q0.9\nId        -1.24 2.90 10.90 25.75 50.50 75.25 90.10\nAge       -0.32 0.21 62.53 63.73 65.24 66.70 68.12\nSex*      -1.92 0.05  1.00  1.00  1.00  2.00  2.00\nHeight     0.43 0.02  1.47  1.58  1.71  1.79  1.86\nWeight     0.47 1.68 53.96 64.77 77.36 82.59 93.47\nSmoke*    -1.86 0.05  1.00  1.00  1.00  2.00  2.00\nami*      -2.02 0.05  1.00  1.00  1.50  2.00  2.00\nage5*     -2.01 0.05  1.00  1.00  2.00  2.00  2.00\nbmi        0.41 0.31 23.20 24.25 25.42 27.81 31.30\n```\n:::\n:::\n\n\nCon frecuencia necesitamos obtener los descriptivos en función de los grupos que establezca una variable categórica.\nPara ello podemos recurrir a la función *by*, en la que indicamos cotjunto de datos a describir (argumento en posición 1), índice o variable que establece los grupos (argumento en posición 2) y función que queremos aplicar a cada grupo establecido por la funcion índice sobre las variables incluidas en el objeto que contiene los datos *iam*.\n\nNo todas las funciones son aceptadas por by, pero *psych::describe* si lo es.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nby(iam,iam$Sex,psych::describe)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\niam$Sex: Men\n       vars  n  mean    sd median trimmed   mad   min    max range  skew\nId        1 58 49.64 30.61  48.50   49.50 40.03  2.00 100.00 98.00  0.05\nAge       2 58 65.15  2.07  65.28   65.12  2.03 60.89  70.71  9.82  0.18\nSex*      3 58  1.00  0.00   1.00    1.00  0.00  1.00   1.00  0.00   NaN\nHeight    4 58  1.67  0.16   1.70    1.69  0.17  1.15   1.87  0.72 -1.07\nWeight    5 58 70.31 12.45  75.19   71.70 10.51 30.31  84.79 54.48 -1.01\nSmoke*    6 58  1.31  0.47   1.00    1.27  0.00  1.00   2.00  1.00  0.80\nami*      7 58  1.34  0.48   1.00    1.31  0.00  1.00   2.00  1.00  0.64\nage5*     8 58  1.52  0.50   2.00    1.52  0.00  1.00   2.00  1.00 -0.07\nbmi       9 58 24.96  1.10  24.68   24.94  1.16 22.92  27.88  4.97  0.32\n       kurtosis   se\nId        -1.36 4.02\nAge       -0.33 0.27\nSex*        NaN 0.00\nHeight     1.07 0.02\nWeight     0.55 1.63\nSmoke*    -1.38 0.06\nami*      -1.62 0.06\nage5*     -2.03 0.07\nbmi       -0.56 0.14\n------------------------------------------------------------ \niam$Sex: Women\n       vars  n  mean    sd median trimmed   mad   min    max range  skew\nId        1 42 51.69 26.97  53.50   51.74 31.88  1.00  99.00 98.00 -0.06\nAge       2 42 65.13  2.14  65.19   65.19  2.36 59.50  68.63  9.13 -0.32\nSex*      3 42  2.00  0.00   2.00    2.00  0.00  2.00   2.00  0.00   NaN\nHeight    4 42  1.70  0.16   1.72    1.70  0.16  1.39   1.96  0.57 -0.27\nWeight    5 42 80.58 20.06  80.74   81.40 16.12 36.92 121.87 84.95 -0.37\nSmoke*    6 42  1.52  0.51   2.00    1.53  0.00  1.00   2.00  1.00 -0.09\nami*      7 42  1.71  0.46   2.00    1.76  0.00  1.00   2.00  1.00 -0.92\nage5*     8 42  1.55  0.50   2.00    1.56  0.00  1.00   2.00  1.00 -0.18\nbmi       9 42 27.55  4.26  28.54   27.91  4.68 17.09  33.01 15.93 -0.66\n       kurtosis   se\nId        -1.14 4.16\nAge       -0.44 0.33\nSex*        NaN 0.00\nHeight    -0.79 0.02\nWeight    -0.20 3.10\nSmoke*    -2.04 0.08\nami*      -1.19 0.07\nage5*     -2.01 0.08\nbmi       -0.45 0.66\n```\n:::\n:::\n\n\nComo se puede observar, la salida no está para ser publicada.\n\nComo también habremos comentado en las clases de teoría, las variables categóricas ofrecen menos posibilidades descriptivas (contienen menos información) y su descripción univariada se va a reducir a dar las frecuencias absolutas y relativas.\n\nLa obtención de una tabla de contingencia es relativamente fácil.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(iam$Sex,iam$Smoke)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       \n        No Yes\n  Men   40  18\n  Women 20  22\n```\n:::\n:::\n\n\nY la de las frecuencias relativas por (condicionadas a) fila o columna, también.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt1<-table(iam$Sex,iam$Smoke)\nprop.table(t1,1) # 1 le indca que son los % sobre el total de fila, por eso suman 100%.\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       \n               No       Yes\n  Men   0.6896552 0.3103448\n  Women 0.4761905 0.5238095\n```\n:::\n:::\n\n\nLos de la tabla anterior son las proporciones de fumadores en el grupo de mujeres (31%) y de hombres (52%).\n\nLos de la siguiente son la proporción de hombres dentro de cada nivel de la variable fumador (sí/no).\n\nEntre los no fumadores el 66.7% fueron hombres y el 33.3% fueron mujeres.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprop.table(t1,2) # 2 le indca que son los % sobre el total de fila, por eso suman 100%.\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       \n               No       Yes\n  Men   0.6666667 0.4500000\n  Women 0.3333333 0.5500000\n```\n:::\n:::\n\n\nExisten funciones para ver los márgenes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\naddmargins (table(iam$Sex,iam$Smoke))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       \n         No Yes Sum\n  Men    40  18  58\n  Women  20  22  42\n  Sum    60  40 100\n```\n:::\n:::\n\n\nIr variable a variable no es lo que necesitamos cuando queremos resumir muchas variables, por lo que algunos paquetes facilitan obtener esta información de varias variables a la vez.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntableone::CreateCatTable(data=iam,vars=c('Smoke','ami','age5'),strata = 'Sex',test = F)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                    Stratified by Sex\n                     Men        Women     \n  n                  58         42        \n  Smoke = Yes (%)    18 (31.0)  22 (52.4) \n  ami = Yes (%)      20 (34.5)  30 (71.4) \n  age5 = (65,75] (%) 30 (51.7)  23 (54.8) \n```\n:::\n:::\n\n\nIncluso son capaces de distinguir el tipo de variable para utilizar el descriptor adecuado.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntableone::CreateTableOne (data=iam[,-1],strata = 'Sex',test = F)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                    Stratified by Sex\n                     Men           Women         \n  n                     58            42         \n  Age (mean (SD))    65.15 (2.07)  65.13 (2.14)  \n  Sex = Women (%)        0 ( 0.0)     42 (100.0) \n  Height (mean (SD))  1.67 (0.16)   1.70 (0.16)  \n  Weight (mean (SD)) 70.31 (12.45) 80.58 (20.06) \n  Smoke = Yes (%)       18 (31.0)     22 ( 52.4) \n  ami = Yes (%)         20 (34.5)     30 ( 71.4) \n  age5 = (65,75] (%)    30 (51.7)     23 ( 54.8) \n  bmi (mean (SD))    24.96 (1.10)  27.55 (4.26)  \n```\n:::\n:::\n\n\nAlgunos incluso devuelven información gráfica.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(summarytools::dfSummary(iam[,-1],\n                        plain.ascii  = FALSE,\n          style        = 'grid',\n          graph.magnif = 0.85,\n          varnumbers = FALSE,\n          valid.col    = FALSE,\n          # tmp.img.dir  = \"/tmp\"\n          ),method = 'render')\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"container st-container\">\n<h3>Data Frame Summary</h3>\n<h4>iam</h4>\n<strong>Dimensions</strong>: 100 x 8\n  <br/><strong>Duplicates</strong>: 0\n<br/>\n<table class=\"table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline \">\n  <thead>\n    <tr>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Variable</strong></th>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Stats / Values</strong></th>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Freqs (% of Valid)</strong></th>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Graph</strong></th>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Missing</strong></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td align=\"left\">Age\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 65.1 (2.1)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">59.5 &le; 65.2 &le; 70.7</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 3 (0)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">100 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIMAAABfBAMAAAA5T2kBAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfnCQ0QHTYUH2HDAAAAfUlEQVRYw+3YwQ2AIAyFYUZQJ9Cygey/mwcoITUEFGNM/N+FkLbfGeocKTPXskhKtWNqEiFmh4CAgICAgIAYJPRlIkrofesmvI6aM0BAQEBAQEB8hhC7jbhO5AIExMtEXqYNEKdOiD8T9hPUQejEmghf7WwVwoOE3I8SJOYAO9RZY6wlaTAAAAAASUVORK5CYII=\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Sex\n[factor]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1. Men</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">2. Women</td></tr></table></td>\n      <td align=\"left\" style=\"padding:0;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0 5px 0 7px;margin:0;border:0\" align=\"right\">58</td><td style=\"padding:0 2px 0 0;border:0;\" align=\"left\">(</td><td style=\"padding:0;border:0\" align=\"right\">58.0%</td><td style=\"padding:0 4px 0 2px;border:0\" align=\"left\">)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0 5px 0 7px;margin:0;border:0\" align=\"right\">42</td><td style=\"padding:0 2px 0 0;border:0;\" align=\"left\">(</td><td style=\"padding:0;border:0\" align=\"right\">42.0%</td><td style=\"padding:0 4px 0 2px;border:0\" align=\"left\">)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAFYAAAAvBAMAAACLVSDNAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfnCQ0QHTYUH2HDAAAAOUlEQVRIx2NgGHpAiRgAVatsTBgYjaodVTtI1ZKS1gWJATRWi8eVGGpxh4PRqNpRtYNeLSlpfSgBACps7jQGedylAAAAAElFTkSuQmCC\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Height\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 1.7 (0.2)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1.1 &le; 1.7 &le; 2</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 0.2 (0.1)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">38 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIMAAABfBAMAAAA5T2kBAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfnCQ0QHTYUH2HDAAAAhUlEQVRYw+3WQQqAIBBAUY9QnqDsBnn/uwWOwQRFNUMl9P/OGB+IiwyBdP21YiqN+lt3k8glCAgICAiIvxLyM00eYip756+IegIPIXszxHNEvSUPURcQEBAQEBCtE1G/TYyEHm+YkJMOHkIWECfE5sluI3bGISCMRNLZiOOJN4lkbyVIWgBeBV/u52OmDAAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Weight\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 74.6 (16.8)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">30.3 &le; 77.4 &le; 121.9</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 17.8 (0.2)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">76 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIMAAABfBAMAAAA5T2kBAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfnCQ0QHTYUH2HDAAAAlElEQVRYw+3WXQqAIBAEYI9QnaD0Bnn/u0W7BQtLkbuQP8w8+CLzoSZhCIjM/JYlUh5mp09EPrP3TFyn4CK4DAIEiIEJ+acwEkmUQYAAAQIECBAgQIxF8HPRRVA5g2ifoG+9uQgafyDEvbQSotwroU6hnFDltomo7mgxkdRa6hFyO0ZCrqU2wdtZPQSPbRHRnptAOAdmuFhBdX4dEwAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Smoke\n[factor]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1. No</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">2. Yes</td></tr></table></td>\n      <td align=\"left\" style=\"padding:0;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0 5px 0 7px;margin:0;border:0\" align=\"right\">60</td><td style=\"padding:0 2px 0 0;border:0;\" align=\"left\">(</td><td style=\"padding:0;border:0\" align=\"right\">60.0%</td><td style=\"padding:0 4px 0 2px;border:0\" align=\"left\">)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0 5px 0 7px;margin:0;border:0\" align=\"right\">40</td><td style=\"padding:0 2px 0 0;border:0;\" align=\"left\">(</td><td style=\"padding:0;border:0\" align=\"right\">40.0%</td><td style=\"padding:0 4px 0 2px;border:0\" align=\"left\">)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAFkAAAAvBAMAAAB6XntAAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfnCQ0QHTYUH2HDAAAAOklEQVRIx2NgGLpAiSigAFWtbEwMGFU9qnpoqiYtNwgSBQTooBqnUxWxqcYZJqOqR1UPA9Wk5YahCACuJfNZtvAUzQAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">ami\n[factor]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1. No</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">2. Yes</td></tr></table></td>\n      <td align=\"left\" style=\"padding:0;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0 5px 0 7px;margin:0;border:0\" align=\"right\">50</td><td style=\"padding:0 2px 0 0;border:0;\" align=\"left\">(</td><td style=\"padding:0;border:0\" align=\"right\">50.0%</td><td style=\"padding:0 4px 0 2px;border:0\" align=\"left\">)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0 5px 0 7px;margin:0;border:0\" align=\"right\">50</td><td style=\"padding:0 2px 0 0;border:0;\" align=\"left\">(</td><td style=\"padding:0;border:0\" align=\"right\">50.0%</td><td style=\"padding:0 4px 0 2px;border:0\" align=\"left\">)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEwAAAAvBAMAAAC72THsAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfnCQ0QHTYUH2HDAAAAMUlEQVQ4y2NgGNxAiQCAKlM2xguMRpWNKqOmMiKTpSABQBNlo1lmVNkgVEZkshysAACC8+FBDaw6tgAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">age5\n[factor]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1. [55,65]</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">2. (65,75]</td></tr></table></td>\n      <td align=\"left\" style=\"padding:0;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0 5px 0 7px;margin:0;border:0\" align=\"right\">47</td><td style=\"padding:0 2px 0 0;border:0;\" align=\"left\">(</td><td style=\"padding:0;border:0\" align=\"right\">47.0%</td><td style=\"padding:0 4px 0 2px;border:0\" align=\"left\">)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0 5px 0 7px;margin:0;border:0\" align=\"right\">53</td><td style=\"padding:0 2px 0 0;border:0;\" align=\"left\">(</td><td style=\"padding:0;border:0\" align=\"right\">53.0%</td><td style=\"padding:0 4px 0 2px;border:0\" align=\"left\">)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAFAAAAAvBAMAAACGS1CKAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfnCQ0QHTYUH2HDAAAAOklEQVQ4y2NgGBpACS8QBAKoQmVjPMBoVOGoQvoqJDrhChIENFOoRBAQ42uwz0cVjiqkn0KiE+5gBwC0yOZvPgO7ewAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">bmi\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 26 (3.1)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">17.1 &le; 25.4 &le; 33</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 3.6 (0.1)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">77 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIMAAABfBAMAAAA5T2kBAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfnCQ0QHTYUH2HDAAAAgklEQVRYw+3XUQqAIBBF0ZZQraBsB7X/vQU9AweUyOkj5b4fGRgPIio4DCTNVExQ1mLD+EhsxxUICAgICAgICAgICAgICAcx64PqIjT3OyJ+mj2Ehh2iW8IckjrCFG0S6e2tJDJL6oDQxiweQgXEXwnzAsTiJWHOW6a9GSLU5yaIcgI5+wjU4GrgJQAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n  </tbody>\n</table>\n<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.1 (<a href='https://www.r-project.org/'>R</a> version 4.3.0)<br/>2023-09-13</p>\n</div>\n```\n:::\n:::\n\n\nEn cualquier caso siguen siendo tablas que no están listas para ser publicadas.\n\nSi dio tiempo, en la última clase deberíamos haber visto una tabla construida como *\"publication-ready tables\"*.\n\nAquí incluyo un ejemplo, con los datos utilizados en esta sesión.\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"avqzhpxvzw\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#avqzhpxvzw table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#avqzhpxvzw thead, #avqzhpxvzw tbody, #avqzhpxvzw tfoot, #avqzhpxvzw tr, #avqzhpxvzw td, #avqzhpxvzw th {\n  border-style: none;\n}\n\n#avqzhpxvzw p {\n  margin: 0;\n  padding: 0;\n}\n\n#avqzhpxvzw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#avqzhpxvzw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#avqzhpxvzw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#avqzhpxvzw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#avqzhpxvzw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#avqzhpxvzw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#avqzhpxvzw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#avqzhpxvzw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#avqzhpxvzw .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#avqzhpxvzw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#avqzhpxvzw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#avqzhpxvzw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#avqzhpxvzw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#avqzhpxvzw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#avqzhpxvzw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avqzhpxvzw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#avqzhpxvzw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#avqzhpxvzw .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#avqzhpxvzw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avqzhpxvzw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#avqzhpxvzw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avqzhpxvzw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#avqzhpxvzw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avqzhpxvzw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#avqzhpxvzw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#avqzhpxvzw .gt_left {\n  text-align: left;\n}\n\n#avqzhpxvzw .gt_center {\n  text-align: center;\n}\n\n#avqzhpxvzw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#avqzhpxvzw .gt_font_normal {\n  font-weight: normal;\n}\n\n#avqzhpxvzw .gt_font_bold {\n  font-weight: bold;\n}\n\n#avqzhpxvzw .gt_font_italic {\n  font-style: italic;\n}\n\n#avqzhpxvzw .gt_super {\n  font-size: 65%;\n}\n\n#avqzhpxvzw .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#avqzhpxvzw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#avqzhpxvzw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#avqzhpxvzw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#avqzhpxvzw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#avqzhpxvzw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#avqzhpxvzw .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Table 1. Descriptive statistics of the sample by Sex</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Men&lt;/strong&gt;, N = 58&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>Men</strong>, N = 58<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Women&lt;/strong&gt;, N = 42&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>Women</strong>, N = 42<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Age</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">65.28 (63.79, 66.50)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">65.19 (63.77, 66.78)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Height</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1.70 (1.57, 1.79)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1.72 (1.59, 1.79)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Weight</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">75 (61, 81)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">81 (73, 93)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Smoke</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">18 (31%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">22 (52%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">AMI</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (34%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">30 (71%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Age group</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    [55,65]</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">19 (45%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    (65,75]</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">30 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">23 (55%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">BMI</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">24.68 (24.22, 25.79)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">28.54 (24.52, 31.30)</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"3\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> Median (IQR); n (%)</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Gráficos simples.\n\nIncluyo aquí algunos gráficos elaborados con las opciones gráficas en lo que he denominado *base R*.\nNo serán los que utilizaremos para publicar, pero son perfectamente correctos.\n\n#### Gráficos. Variables categóricas.\n\n##### Gráficos de columnas.\n\nCuriosamente es uno de los gráficos más sencillos y sin embargo en base R su personalización es laboriosa, entre otras cosas porque necesita construir previamente una tabla.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt2<-100*prop.table(table(iam$Smoke,iam$Sex),2)\np<-barplot(t2,beside=T,col=c('cadetblue','red'),\n        ylim=c(0,100),\n        ylab='%',\n        xlab='Sex')\ntext(x = c('uno','dos'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in xy.coords(x, y, recycle = TRUE, setLab = FALSE): NAs introducidos\npor coerción\n```\n:::\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n#### Gráficos. Variables continuas.\n\nAlgo similar va a ocurrir con respecto a las posibilidades gráficas en la descripción univariada.\n\nDesarrollamos aquí los gráficos vistos durante las clases.\n\n##### Histograma\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(iam$Age) # las opciones ayudan a mejorar la presentación. \n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(iam$Age,freq=F,col=\"blue\",xlab=\"Edad\") #prob=T es lo mismo que freq=F\nlines(density(iam$Age)) # para que dibuje la función de densidad. Necesita prob=T (*)\n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-19-2.png){width=672}\n:::\n:::\n\n\nSe puede sofisticar algo más.\n\nEsta representación fusiona los dos histogramas y juega con la transparencia para comparar su distribuciones.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(iam$Age[iam$Sex==\"Men\"],freq=F,col=rgb(1,0,0,1/5),xlab='Age',main='Histogram of Age by Sex')\nhist(iam$Age[iam$Sex==\"Women\"],freq=F,col=rgb(0,0,1,1/5),add=T,xlab='Age')\n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#Es necesario usar freq=T porque si saca las absolutas el grupo más grande destacará sobre el grupo más pequeño.\n```\n:::\n\n\n##### Boxplot\n\n###### Una variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboxplot(iam$Age)\n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n\n```{.r .cell-code}\nboxplot(iam$Age,col=\"red\")\ntext(1.25,median(iam$Age),round(median(iam$Age),2)) # función gráfica de bajo nivel.\n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-21-2.png){width=672}\n:::\n:::\n\n\n###### Por grupos de otra variable categórica.\n\nIncluimos algunas ociones de configuración.\n\nLas etiquetas salen porque las hemos deficido en el factor, de otra forma saldrían los valores (0,1)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboxplot(formula=Age~Sex,data=iam,\n        col=c('orange','purple')\n        )\n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n##### Stem&Leaf\n\nLo incluyo por cuestiones históricas y porque realmente aporta información que el histograma no, pero es raro ya ver este gráfico.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstem(iam$Age)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n  The decimal point is at the |\n\n  58 | 5\n  60 | 92579\n  62 | 1235567788890114557799\n  64 | 0112334455577788890112233344445555799\n  66 | 002334456788802222233455\n  68 | 1122344662\n  70 | 7\n```\n:::\n:::\n\n\n##### Gráfico Q-Q.\n\nGráfica cuantil-cuantil frente a distribución normal.\n\nEste gráfico es muy útil y sirve para analizar visualmente si una distribución empírica (nuestros datos observados) sigue razonablemente bien una distribución normal[^2].\nCuando la sigue, los puntos se distribuyen cerca de la línea.\n\nPara ello enfrentan los datos observados frente a los cuantiles que ocuparían en una distribución, en este caso normal.\n\nLas coordenadas en cada eje para cada punto se construyen de la siguiente manera[^3].\n\nEn el eje de ordenadas (eje y) representa la posición que ocupan los valores observados expresada en cuantiles desde el centro de la distribución empírica.\nEn el eje de abscisas (eje x) se representa la posición que ocuparían dichos valores en una distribución teórica normal perfecta con la misma media y desviación típica que la distribución empírica.\n\nSi la distancia (expresada en cuantiles) a la que está un punto observado en la distribución empírica coincidiese perfectamente con la distancia (expresada en cuantiles) a la que estaría ese mismo punto en una distribución normal perfecta con la misma media y desviación típica que la de la distribución empírica, todos los puntos se colocarían en la diagonal diagonal.\nSi se apartan, es que los puntos no están donde se les espera, informando de asimetrías en las colas, distribuciones bimodales, existencia de valores atípicos...\n\nHace falta cierta experiencia para interpretar los detalles finos, pero es un gráfico bastante intuitivo para identificar problemas con la normalidad de la variable incluso al ojo menos experimentado.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqqnorm #(Gráfico cuantil-cuantil de distribución de variable problema frente a distribución normal con misma media y desviación típica que la de la variable problema).\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nfunction (y, ...) \nUseMethod(\"qqnorm\")\n<bytecode: 0x0000024b76e38028>\n<environment: namespace:stats>\n```\n:::\n\n```{.r .cell-code}\nqqnorm(iam$Age)\nqqline(iam$Age)\n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n### Gráfico de dispersión o scatter plot.\n\nEn este representamos la relación bivariada entre dos variables cuantitativas, preferentemente continuas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(iam$Age,iam$bmi,main='Scatter plot BMI by Age',\n     xlab='Age [yrs.]',\n     ylab=expression(paste('Body Mass Index [',Kg/m^2,']')) #Es posible insertar fórmulas, aunque no siempre es fácil.\n)\n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\nSi tuviésemos que ir una a una, supondría mucho trabajo.\nExisten funciones que nos pueden devolver múltiples tipos de relación simultáneamente.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npairs(iam[,c('Age','Height','Weight','bmi')])\n```\n\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\nComo pasaba con las tablas, estos gráficos no son aún *'Publication-ready Graphs'*.\nDado que este tipo de gráficos no son necesarios para superar el bloque, si da tiempo hablaremos de cómo crearlos en la última sesión.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](PR_4_lect_files/figure-html/unnamed-chunk-27-1.png){width=2400}\n:::\n:::\n\n\n\n[^1]: Recordad que siempre es mejor utilizar direccionamiento relativo (/data/iam.RDS) en vez de absoluto ('C:/Users/Usuario/Documents/SUB1/SUB2/SUB3/SUB4/SUB5/SUB6/dataiam.RDS') - atención a la dirección de la barra si copiasteis el path desde Windows\n\n[^2]: En realidad se puede comparar con otras distribuciones teóricas, pero la que nos interesa aquí es la distribución normal\n\n[^3]: Si no recuerdo mal, SPSS representa este gráfico invirtiendo los ejes, pero la interpretación es muy similar.\n",
    "supporting": [
      "PR_4_lect_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}